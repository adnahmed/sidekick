<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (sidekick.Sidekick_arith_lra__Simplex_intf.S)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">sidekick</a> &#x00BB; <a href="../index.html">Sidekick_arith_lra__Simplex_intf</a> &#x00BB; S</nav><h1>Module type <code>Sidekick_arith_lra__Simplex_intf.S</code></h1><nav class="toc"><ul><li><a href="#simplex-construction">Simplex construction</a></li><li><a href="#simplex-solving">Simplex solving</a></li></ul></nav></header><div class="spec module" id="module-Q"><a href="#module-Q" class="anchor"></a><code><span class="keyword">module</span> <a href="Q/index.html">Q</a> : <a href="../index.html#module-type-RATIONAL">RATIONAL</a></code></div><dl><dt class="spec type" id="type-var"><a href="#type-var" class="anchor"></a><code><span class="keyword">type</span> var</code></dt><dd><p>The given type of the variables</p></dd></dl><dl><dt class="spec module" id="module-Var_map"><a href="#module-Var_map" class="anchor"></a><code><span class="keyword">module</span> Var_map : CCMap.S <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-Var_map">Var_map</a>.key = <a href="index.html#type-var">var</a></code></dt><dd><p>A map on variables</p></dd></dl><dl><dt class="spec type" id="type-param"><a href="#type-param" class="anchor"></a><code><span class="keyword">type</span> param</code></dt><dd><p>Parameter required at the creation of the simplex</p></dd></dl><dl><dt class="spec type" id="type-lit"><a href="#type-lit" class="anchor"></a><code><span class="keyword">type</span> lit</code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>The type of a (possibly not solved) linear system</p></dd></dl><dl><dt class="spec type" id="type-cert"><a href="#type-cert" class="anchor"></a><code><span class="keyword">type</span> cert</code><code> = </code><code>{</code><table class="record"><tr id="type-cert.cert_var" class="anchored"><td class="def field"><a href="#type-cert.cert_var" class="anchor"></a><code>cert_var : <a href="index.html#type-var">var</a>;</code></td></tr><tr id="type-cert.cert_expr" class="anchored"><td class="def field"><a href="#type-cert.cert_expr" class="anchor"></a><code>cert_expr : <span><span>(<a href="Q/index.html#type-t">Q.t</a> * <a href="index.html#type-var">var</a>)</span> list</span>;</code></td></tr></table><code>}</code></dt><dd><p>An unsatisfiability explanation is a couple <code>(x, expr)</code>. If <code>expr</code> is the empty list, then there is a contradiction between two given bounds of <code>x</code>. Else, the explanation is an equality <code>x = expr</code> that is valid (it can be derived from the original equations of the system) from which a bound can be deduced which contradicts an already given bound of the system.</p></dd></dl><dl><dt class="spec type" id="type-res"><a href="#type-res" class="anchor"></a><code><span class="keyword">type</span> res</code><code> = </code><table class="variant"><tr id="type-res.Solution" class="anchored"><td class="def constructor"><a href="#type-res.Solution" class="anchor"></a><code>| </code><code><span class="constructor">Solution</span> <span class="keyword">of</span> <span><a href="Q/index.html#type-t">Q.t</a> <a href="index.html#module-Var_map">Var_map</a>.t</span></code></td></tr><tr id="type-res.Unsatisfiable" class="anchored"><td class="def constructor"><a href="#type-res.Unsatisfiable" class="anchor"></a><code>| </code><code><span class="constructor">Unsatisfiable</span> <span class="keyword">of</span> <a href="index.html#type-cert">cert</a></code></td></tr></table></dt><dd><p>Generic type returned when solving the simplex. A solution is a list of bindings that satisfies all the constraints inside the system. If the system is unsatisfiable, an explanation of type <code>'cert</code> is returned.</p></dd></dl><section><header><h4 id="simplex-construction"><a href="#simplex-construction" class="anchor"></a>Simplex construction</h4></header><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <a href="index.html#type-param">param</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>The empty system.</p><dl><dt>parameter fresh</dt><dd><p>the state for generating fresh variables on demand.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-add_eq"><a href="#val-add_eq" class="anchor"></a><code><span class="keyword">val</span> add_eq : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>(<a href="index.html#type-var">var</a> * <span><span>(<a href="Q/index.html#type-t">Q.t</a> * <a href="index.html#type-var">var</a>)</span> list</span>)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>add_eq s (x, eq)</code> adds the equation <code>x=eq</code> to <code>s</code></p></dd></dl><dl><dt class="spec value" id="val-add_bounds"><a href="#val-add_bounds" class="anchor"></a><code><span class="keyword">val</span> add_bounds : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>?&#8288;strict_lower:bool</span> <span>&#45;&gt;</span> <span>?&#8288;strict_upper:bool</span> <span>&#45;&gt;</span> <span>?&#8288;lower_reason:<a href="index.html#type-lit">lit</a></span> <span>&#45;&gt;</span> <span>?&#8288;upper_reason:<a href="index.html#type-lit">lit</a></span> <span>&#45;&gt;</span> <span>(<a href="index.html#type-var">var</a> * <a href="Q/index.html#type-t">Q.t</a> * <a href="Q/index.html#type-t">Q.t</a>)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>add_bounds (x, lower, upper)</code> adds to <code>s</code> the bounds <code>lower</code> and <code>upper</code> for the given variable <code>x</code>. If the bound is loose on one side (no upper bounds for instance), the values <code>Q.inf</code> and <code>Q.minus_inf</code> can be used. By default, in a system, all variables have no bounds, i.e have lower bound <code>Q.minus_inf</code> and upper bound <code>Q.inf</code>. Optional parameters allow to make the the bounds strict. Defaults to false, so that bounds are large by default.</p></dd></dl><dl><dt class="spec value" id="val-add_lower_bound"><a href="#val-add_lower_bound" class="anchor"></a><code><span class="keyword">val</span> add_lower_bound : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>?&#8288;strict:bool</span> <span>&#45;&gt;</span> <span>reason:<a href="index.html#type-lit">lit</a></span> <span>&#45;&gt;</span> <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="Q/index.html#type-t">Q.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-add_upper_bound"><a href="#val-add_upper_bound" class="anchor"></a><code><span class="keyword">val</span> add_upper_bound : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>?&#8288;strict:bool</span> <span>&#45;&gt;</span> <span>reason:<a href="index.html#type-lit">lit</a></span> <span>&#45;&gt;</span> <a href="index.html#type-var">var</a> <span>&#45;&gt;</span> <a href="Q/index.html#type-t">Q.t</a> <span>&#45;&gt;</span> unit</code></dt></dl></section><section><header><h4 id="simplex-solving"><a href="#simplex-solving" class="anchor"></a>Simplex solving</h4></header><dl><dt class="spec value" id="val-solve"><a href="#val-solve" class="anchor"></a><code><span class="keyword">val</span> solve : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-res">res</a></code></dt><dd><p><code>solve s</code> solves the system <code>s</code> and returns a solution, if one exists. This function may change the internal representation of the system to that of an equivalent one (permutation of basic and non basic variables and pivot operation on the tableaux).</p></dd></dl><dl><dt class="spec value" id="val-check_cert"><a href="#val-check_cert" class="anchor"></a><code><span class="keyword">val</span> check_cert : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-cert">cert</a> <span>&#45;&gt;</span> <span>[ <span>`Ok of <span><a href="index.html#type-lit">lit</a> list</span></span> <span><span>| `Bad_bounds</span> of string * string</span> <span><span>| `Diff_not_0</span> of <span><a href="Q/index.html#type-t">Q.t</a> <a href="index.html#module-Var_map">Var_map</a>.t</span></span> ]</span></code></dt><dd><p>checks that the certificat indeed yields to a contradiction in the current state of the simplex.</p><dl><dt>returns</dt><dd><p><code>`Ok unsat_core</code> if the certificate is valid.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-pp_cert"><a href="#val-pp_cert" class="anchor"></a><code><span class="keyword">val</span> pp_cert : <span><a href="index.html#type-cert">cert</a> CCFormat.printer</span></code></dt><dt class="spec value" id="val-pp_full_state"><a href="#val-pp_full_state" class="anchor"></a><code><span class="keyword">val</span> pp_full_state : <span><a href="index.html#type-t">t</a> CCFormat.printer</span></code></dt></dl></section></div></body></html>